# image will be published to ghcr.io/<user>/<name>
name: gidro-os-nvidia-vrr
# description will be included in the image's metadata
description: My personalized custom OS image.

# the base image to build on top of (FROM) and the version tag to use
base-image: ghcr.io/ublue-os/silverblue-nvidia
image-version: latest # latest is also supported if you want new updates ASAP

# module configuration, executed in order
# you can include multiple instances of the same module
modules:      
  - type: rpm-ostree
    repos:      
        - https://copr.fedorainfracloud.org/coprs/kylegospo/gnome-vrr/repo/fedora-%OS_VERSION%/kylegospo-gnome-vrr-fedora-%OS_VERSION%.repo
        - https://copr.fedorainfracloud.org/coprs/kylegospo/system76-scheduler/repo/fedora-%OS_VERSION%/kylegospo-system76-scheduler-fedora-%OS_VERSION%.repo  
        - https://copr.fedorainfracloud.org/coprs/kylegospo/hl2linux-selinux/repo/fedora-%OS_VERSION%/kylegospo-hl2linux-selinux-fedora-%OS_VERSION%.repo
        - https://copr.fedorainfracloud.org/coprs/kylegospo/rom-properties/repo/fedora-%OS_VERSION%/kylegospo-rom-properties-fedora-%OS_VERSION%.repo
        - https://copr.fedorainfracloud.org/coprs/szydell/system76/repo/fedora-%OS_VERSION%/szydell-system76-fedora-%OS_VERSION%.repo
    install:
        - gnome-shell-extension-caffeine
        - gnome-shell-extension-blur-my-shell
        - gnome-shell-extension-system76-scheduler
        - ddccontrol-gtk
        - ddccontrol-db
        - ddccontrol
        - hl2linux-selinux
        - rom-properties-gtk3
        - nautilus-python 
        - system76-power
    remove:
        - firefox
        - firefox-langpacks
        - htop
        - nvtop
        - gnome-software-rpm-ostree
        - gnome-tour
        - gnome-initial-setup 
        - gnome-system-monitor
        - gnome-shell-extension-apps-menu
        - gnome-shell-extension-background-logo
        - gnome-shell-extension-launch-new-instance
        - gnome-shell-extension-places-menu
        - gnome-shell-extension-window-list
        - gnome-classic-session
        - gnome-tweaks  

  - type: script
    scripts:
        - enable_vrr.sh
        
  - from-file: module-shared-files.yml
  
  - type: script
    scripts:
        - enable_vrr_2.sh    
  
  - from-file: module-shared-bling.yml
  - from-file: module-shared-yafti.yml
  
  - type: script
    scripts:
        - signing.sh
        - reload-font-cache.sh
        - enable-system76-scheduler-service.sh
        - system76-power.sh
        - gnome-extensions-uninstall.sh
        - desktop-shortcut-remover.sh
        - enable-hardware-setup.sh
